<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12ì œì í€´ì¦ˆ</title>
    <style>
        :root { --primary: #2c3e50; --accent: #d4af37; --danger: #e74c3c; --bg: #fdfaf6; }
        body { font-family: 'Apple SD Gothic Neo', sans-serif; background-color: var(--bg); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        #game-box { background: white; padding: 2.5rem; border-radius: 25px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); width: 90%; max-width: 450px; text-align: center; }
        .screen { display: none; }
        .active { display: block; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        button { padding: 15px 25px; background: var(--primary); color: white; border: none; border-radius: 12px; font-size: 1.1rem; cursor: pointer; width: 100%; margin: 10px 0; }
        button:hover { background: #34495e; }
        input[type="text"] { width: 85%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 1.1rem; text-align: center; margin-bottom: 15px; }
        
        .timer { font-size: 2.5rem; font-weight: 900; margin-bottom: 10px; color: var(--primary); }
        #question-box { background: #fff9e6; padding: 1.5rem; border-radius: 15px; border-left: 8px solid var(--accent); margin-bottom: 20px; font-size: 1.1rem; line-height: 1.6; }
        
        table { width: 100%; margin-top: 15px; border-collapse: collapse; font-size: 0.9rem; }
        th, td { padding: 10px; border-bottom: 1px solid #eee; }
    </style>
</head>
<body>

<div id="game-box">
    <div id="start-screen" class="screen active">
        <div style="font-size: 4rem;">â›µ</div>
        <h1>12ì œì í€´ì¦ˆ</h1>
        <p>30ì´ˆ ì•ˆì— ì œìì˜ ì´ë¦„ì„ ë§íˆì„¸ìš”!</p>
        <input type="text" id="player-name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" maxlength="8">
        <button onclick="startGame()">ê²Œì„ ì‹œì‘</button>
        <button style="background:#95a5a6;" onclick="showRanking()">ë­í‚¹ ë³´ê¸°</button>
    </div>

    <div id="quiz-screen" class="screen">
        <div id="timer-display" class="timer">30</div>
        <div style="margin-bottom:10px; font-weight:bold; color:#666;">
            ë¬¸ì œ <span id="q-idx">1</span>/12 | ì˜¤ë‹µ <span id="w-count">0</span>/3
        </div>
        <div id="question-box"></div>
        <input type="text" id="answer-input" placeholder="ì •ë‹µ ì…ë ¥" autocomplete="off">
        <button onclick="checkAnswer()">í™•ì¸</button>
        <div id="feedback" style="margin-top:15px; min-height:1.5rem; font-weight:bold;"></div>
    </div>

    <div id="rank-screen" class="screen">
        <h2 id="result-title">ğŸ† ëª…ì˜ˆì˜ ì „ë‹¹</h2>
        <div id="final-info" style="margin-bottom:15px; font-weight:bold;"></div>
        <table>
            <thead><tr><th>ìˆœìœ„</th><th>ì´ë¦„</th><th>ì ìˆ˜</th><th>ë‚ ì§œ</th></tr></thead>
            <tbody id="rank-list" style="text-align:center;"></tbody>
        </table>
        <button style="margin-top:20px;" onclick="location.reload()">ì²˜ìŒìœ¼ë¡œ</button>
    </div>
</div>

<script>
    const disciplesData = [
        { name: "ë² ë“œë¡œ", hint: "ìˆ˜ì œìì´ë©° 'ë°˜ì„'ì´ë¼ëŠ” ëœ»ì˜ ì´ë¦„ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤." },
        { name: "ì•ˆë“œë ˆ", hint: "ë² ë“œë¡œì˜ í˜•ì œì´ë©° ì›ë˜ ì„¸ë¡€ ìš”í•œì˜ ì œìì˜€ìŠµë‹ˆë‹¤." },
        { name: "ì•¼ê³ ë³´", hint: "ì„¸ë² ëŒ€ì˜ ì•„ë“¤ë¡œ ì²« ìˆœêµìê°€ ë˜ì—ˆìŠµë‹ˆë‹¤." },
        { name: "ìš”í•œ", hint: "ì˜ˆìˆ˜ë‹˜ì´ ì‚¬ë‘í•˜ì‹  ì œìì´ë©° ìš”í•œë³µìŒì„ ì¼ìŠµë‹ˆë‹¤." },
        { name: "ë¹Œë¦½", hint: "ë‚˜ë‹¤ë‚˜ì—˜ì„ ì˜ˆìˆ˜ë‹˜ê»˜ ì¸ë„í–ˆìŠµë‹ˆë‹¤." },
        { name: "ë°”ëŒë¡œë§¤", hint: "ë‚˜ë‹¤ë‚˜ì—˜ì´ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ì œìì…ë‹ˆë‹¤." },
        { name: "ë§ˆíƒœ", hint: "ì„¸ë¦¬ ì¶œì‹ ì˜ ë³µìŒì„œ ì €ìì…ë‹ˆë‹¤." },
        { name: "ë„ë§ˆ", hint: "ë¶€í™œì„ ì˜ì‹¬í–ˆìœ¼ë‚˜ ìƒì²˜ë¥¼ ë³´ê³  ë¯¿ì—ˆìŠµë‹ˆë‹¤." },
        { name: "ì•¼ê³ ë³´", hint: "ì•ŒíŒ¨ì˜¤ì˜ ì•„ë“¤ë¡œ 'ì‘ì€ ì•¼ê³ ë³´'ë¼ê³  ë¶ˆë¦½ë‹ˆë‹¤." },
        { name: "ë‹¤ëŒ€ì˜¤", hint: "ì•¼ê³ ë³´ì˜ ì•„ë“¤ ìœ ë‹¤ë¼ê³ ë„ ë¶ˆë¦½ë‹ˆë‹¤." },
        { name: "ì‹œëª¬", hint: "ì—´ì‹¬ë‹¹ì› ì¶œì‹ ìœ¼ë¡œ ëœ¨ê±°ìš´ ì—´ì •ì„ ê°€ì¡Œë˜ ì œìì…ë‹ˆë‹¤." },
        { name: "ìœ ë‹¤", hint: "ì˜ˆìˆ˜ë‹˜ì„ ì€ 30ì— íŒ”ì•„ë„˜ê¸´ ê°€ë£Ÿ ì‚¬ëŒì…ë‹ˆë‹¤." }
    ];

    let quizSet = [];
    let currentIdx = 0;
    let wrongCount = 0;
    let correctCount = 0;
    let timeLeft = 30;
    let timerInt;

    function startGame() {
        const nameInput = document.getElementById('player-name').value.trim();
        if (!nameInput) {
            alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
            return;
        }

        quizSet = [...disciplesData].sort(() => Math.random() - 0.5);
        currentIdx = 0;
        correctCount = 0;
        showScreen('quiz-screen');
        loadQuestion();
    }

    function loadQuestion() {
        if (currentIdx >= 12) return endQuiz();
        
        wrongCount = 0;
        document.getElementById('w-count').innerText = 0;
        document.getElementById('q-idx').innerText = currentIdx + 1;
        document.getElementById('question-box').innerText = quizSet[currentIdx].hint;
        
        const input = document.getElementById('answer-input');
        input.value = "";
        document.getElementById('feedback').innerText = "";
        input.focus();
        
        startTimer();
    }

    function startTimer() {
        clearInterval(timerInt);
        timeLeft = 30;
        const display = document.getElementById('timer-display');
        display.innerText = timeLeft;
        timerInt = setInterval(() => {
            timeLeft--;
            display.innerText = timeLeft;
            if(timeLeft <= 0) {
                clearInterval(timerInt);
                revealAnswer("â° ì‹œê°„ ì´ˆê³¼!");
            }
        }, 1000);
    }

    function checkAnswer() {
        const val = document.getElementById('answer-input').value.trim();
        if (!val) return;

        if (val === quizSet[currentIdx].name) {
            clearInterval(timerInt);
            correctCount++;
            document.getElementById('feedback').innerHTML = "<span style='color:green'>ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰</span>";
            setTimeout(() => { currentIdx++; loadQuestion(); }, 1000);
        } else {
            wrongCount++;
            document.getElementById('w-count').innerText = wrongCount;
            if (wrongCount >= 3) {
                revealAnswer("âŒ 3íšŒ ì˜¤ë‹µ!");
            } else {
                document.getElementById('feedback').innerHTML = "<span style='color:red'>í‹€ë ¸ìŠµë‹ˆë‹¤!</span>";
                document.getElementById('answer-input').value = "";
            }
        }
    }

    function revealAnswer(msg) {
        clearInterval(timerInt);
        document.getElementById('feedback').innerHTML = `<span style='color:red'>${msg} ì •ë‹µ: ${quizSet[currentIdx].name}</span>`;
        setTimeout(() => { currentIdx++; loadQuestion(); }, 2000);
    }

    function endQuiz() {
        clearInterval(timerInt);
        const name = document.getElementById('player-name').value;
        let ranks = JSON.parse(localStorage.getItem('bible_ranks')) || [];
        ranks.push({ name, score: correctCount, date: new Date().toLocaleDateString() });
        ranks.sort((a, b) => b.score - a.score);
        localStorage.setItem('bible_ranks', JSON.stringify(ranks.slice(0, 10)));
        
        document.getElementById('final-info').innerText = `${name}ë‹˜, ì´ ${correctCount}ëª… ì„±ê³µ!`;
        showRanking();
    }

    function showRanking() {
        const ranks = JSON.parse(localStorage.getItem('bible_ranks')) || [];
        const list = document.getElementById('rank-list');
        list.innerHTML = ranks.map((r, i) => `
            <tr>
                <td>${i+1}</td>
                <td>${r.name}</td>
                <td>${r.score}</td>
                <td>${r.date}</td>
            </tr>`).join('');
        showScreen('rank-screen');
    }

    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    document.getElementById('answer-input').addEventListener('keypress', e => {
        if(e.key === 'Enter') checkAnswer();
    });
</script>
</body>
</html>
